function getData(){document.getElementById("output").innerHTML="",rooms.database().ref(`/${username}`).on("value",function(e){var t=e.val(),a=Object.entries(t),l=Object.keys(t).map(e=>[Number(e),t[e]]),n=Object.values(t);for(let o=0;o<l.length;o++)values=n[o],roomId=(getRoomId=a[o])[0],Location=(getLocation=values).location,rooms.database().ref(`/${Location}/${roomId}`).on("value",function(e){user=(getUsers=(t=e.val()).users)[`${username}`],Location=t.location,name=t.name,role=user.role,document.getElementById("output").innerHTML+=room.replaceAll("{roomId}",roomId).replaceAll("{roomLocation}",Location).replaceAll("{name}",name)})})}function setChat(e,t){localStorage.setItem("roomId",e),localStorage.setItem("Location",t)}function openCreateChatRoomSettings(){document.getElementById("createChatRoomDiv").style.display="flex",document.getElementById("openCreateChatRoomSettingsButton").style.display="none"}function createChatRoom(){username=localStorage.getItem("username"),(room_name=document.getElementById("room_name").value).toString,roomId=room_name.replaceAll(".","ā").replaceAll("#","ḥ").replaceAll("$","ḍ").replaceAll("[","ś").replaceAll("]","ē").replaceAll(" ","\xe6"),rooms.database().ref("/").child(`${username}/${roomId}`).update({name:room_name,location:username}),rooms.database().ref(`/${username}/${roomId}`).child(`users/${username}`).update({role:"admin"}),document.getElementById("message").innerText="Creating Chat Room Please Wait...",document.getElementById("message").style.color="rgb(0, 210, 0)",document.getElementById("message").style.display="unset",setTimeout(()=>{document.getElementById("message").innerText="Chat Room Created Successfully",getData(),document.getElementById("openCreateChatRoomSettingsButton").style.display="unset",document.getElementById("createChatRoomDiv").style.display="none",document.getElementById("room_name").value="",document.getElementById("message").innerText=""},5e3)}function sideChat(e,t){setChat(e,t),document.getElementById("iframe").src="/chat/chat/",document.getElementById("openInPage").style.display="grid",setTimeout(()=>{localStorage.setItem("page","/chat/"),document.getElementById("iframe").style.display="unset"},2e3)}function chatPage(e,t){setChat(e,t),redirect("!=",roomId,"chat")}redirect("==",username,"login"),getData();