function getData(){document.getElementById("container").innerHTML="",chats.database().ref(`/${roomLocation}/${roomId}`).on("value",function(e){var a,l=e.val(),t=Object.keys(l).map(e=>[Number(e),l[e]]),n=Object.entries(l);for(let r=0;r<t.length;r++)chatId=(getChatId=n[r])[0],date=(main=(data=t[r])[1]).date,message=main.message,name=main.name,time=main.time,(sendersUsername=main.username)==username?a=chatRight.replaceAll("{message}",message).replaceAll("{date}",date).replaceAll("{time}",time).replaceAll("{chatId}",chatId).replaceAll("{name}",name).replaceAll("{username}",username):sendersUsername!=username?a=chatLeft.replaceAll("{message}",message).replaceAll("{date}",date).replaceAll("{time}",time).replaceAll("{chatId}",chatId).replaceAll("{name}",name).replaceAll("{username}",username):doNoting(),document.getElementById("container").innerHTML+=a})}function send(){message=document.getElementById("message_input").value,date=(getDate=new Date).getDate(),(chatId=username+(fullDate=date+"-"+(month=getDate.getMonth()+1)+"-"+(year=getDate.getFullYear()))+(time=getDate.toLocaleTimeString())).toString,chatId=chatId.replaceAll(" ","á¹‡"),chats.database().ref(`/${roomLocation}/${roomId}`).child(chatId).update({date:fullDate,message:message,name:name,time:time,username:username}),getData(),message=document.getElementById("message_input").value=""}function delete_message(e){chats.database().ref(`/${roomLocation}/${roomId}`).child(`${e}`).remove(),getData()}redirect("==",roomId,""),getData();