function getData(){document.getElementById("output").innerHTML="",rooms.database().ref(`/${username}`).on("value",function(e){var t=e.val(),a=Object.entries(t),l=Object.keys(t).map(e=>[Number(e),t[e]]),n=Object.values(t);for(let r=0;r<l.length;r++)values=n[r],roomId=(getRoomId=a[r])[0],Location=(getLocation=values).location,rooms.database().ref(`/${Location}/${roomId}`).on("value",function(e){function a(){var e;"admin"==role&&Location!=username?e=admin.replaceAll("{roomId}",roomId).replaceAll("{Location}",Location).replaceAll("{name}",name).replaceAll("{username}",username):"regular"==role&&Location!=username?e=regular.replaceAll("{roomId}",roomId).replaceAll("{Location}",Location).replaceAll("{name}",name).replaceAll("{username}",username):"admin"==role&&Location==username?e=superAdmin.replaceAll("{roomId}",roomId).replaceAll("{Location}",Location).replaceAll("{name}",name).replaceAll("{username}",username):"regular"==role&&Location==username?e=superRegular.replaceAll("{roomId}",roomId).replaceAll("{Location}",Location).replaceAll("{name}",name).replaceAll("{username}",username):doNoting(),document.getElementById("output").innerHTML+=e}user=(getUsers=(t=e.val()).users)[`${username}`],Location=t.location,name=t.name,role=user.role,a()})})}function show_edit_group_name_settings(e){document.getElementById(`change_name_${e}`).style.display="unset",document.getElementById(`save_${e}`).style.display="unset",document.getElementById(`${e}_p`).style.display="none"}function save_edited_room_name(e){var t;t=document.getElementById(`change_name_${e}`).value,rooms.database().ref(`/${Location}`).child(`/${e}`).update({name:t}),t="",getData()}function show_add_user_settings(e){document.getElementById(`add_user_input_${e}`).style.display="unset",document.getElementById(`add_user_${e}`).style.display="unset",document.getElementById(`admin_label_${e}`).style.display="unset",document.getElementById(`admin_radio_${e}`).style.display="unset",document.getElementById(`regular_label_${e}`).style.display="unset",document.getElementById(`regular_radio_${e}`).style.display="unset",document.getElementById(`show_add_user_${e}`).style.display="none"}function add_user(e,t){var a=document.getElementsByName("role");for(i=0;i<a.length;i++)a[i].checked&&(role=a[i].value,new_user=(new_user=document.getElementById(`add_user_input_${t}`).value).replaceAll(".","ā").replaceAll("#","ḥ").replaceAll("$","ḍ").replaceAll("[","ś").replaceAll("]","ē").replaceAll(" ","\xe6"),rooms.database().ref(`${e}/${t}/users`).child(`${new_user}`).update({role:role}),rooms.database().ref(`/${new_user}`).child(`${t}`).update({location:e}));getData()}function exit_room(e,t,a){rooms.database().ref(`/${e}/${t}/users`).child(`${a}`).remove(),rooms.database().ref(`/${a}`).child(`${t}`).remove()}function delete_room(e,t){let a=localStorage.getItem("username");rooms.database().ref(`/${e}/${t}/users`).on("value",function(e){var l=e.val(),n=Object.keys(l).map(e=>[Number(e),l[e]]),r=Object.entries(l);for(let o=0;o<n.length;o++)a=(getUsername=r[0])[0],rooms.database().ref(`/${a}`).child(`${t}`).remove()}),rooms.database().ref(`/${e}/${t}/users`).child(`${a}`).remove(),getData()}function open_chat(e,t){localStorage.setItem("roomId",e),localStorage.setItem("Location",t),redirect("!=",e,"chat")}function openCreateChatRoomSettings(){document.getElementById("createChatRoomDiv").style.display="flex",document.getElementById("openCreateChatRoomSettingsButton").style.display="none"}function createChatRoom(){username=localStorage.getItem("username"),(room_name=document.getElementById("room_name").value).toString,roomId=room_name.replaceAll(".","ā").replaceAll("#","ḥ").replaceAll("$","ḍ").replaceAll("[","ś").replaceAll("]","ē").replaceAll(" ","\xe6"),rooms.database().ref("/").child(`${username}/${roomId}`).update({name:room_name,location:username}),rooms.database().ref(`/${username}/${roomId}`).child(`users/${username}`).update({role:"admin"}),document.getElementById("message").innerText="Creating Chat Room Please Wait...",document.getElementById("message").style.color="rgb(0, 210, 0)",document.getElementById("message").style.display="unset",setTimeout(()=>{document.getElementById("message").innerText="Chat Room Created Successfully",getData(),document.getElementById("openCreateChatRoomSettingsButton").style.display="unset",document.getElementById("createChatRoomDiv").style.display="none",document.getElementById("room_name").value="",document.getElementById("message").innerText=""},5e3)}redirect("==",username,"login"),localStorage.removeItem("roomId"),localStorage.removeItem("Location"),getData();